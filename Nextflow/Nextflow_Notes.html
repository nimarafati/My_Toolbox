<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Nima Rafati">
<meta name="dcterms.date" content="2022-07-15">

<title>Nextflow</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Nextflow_Notes_files/libs/clipboard/clipboard.min.js"></script>
<script src="Nextflow_Notes_files/libs/quarto-html/quarto.js"></script>
<script src="Nextflow_Notes_files/libs/quarto-html/popper.min.js"></script>
<script src="Nextflow_Notes_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Nextflow_Notes_files/libs/quarto-html/anchor.min.js"></script>
<link href="Nextflow_Notes_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Nextflow_Notes_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Nextflow_Notes_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Nextflow_Notes_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Nextflow_Notes_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

<script src="Nextflow_Notes_files/libs/kePrint-0.0.1/kePrint.js"></script>
<link href="Nextflow_Notes_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#dsl2" id="toc-dsl2" class="nav-link active" data-scroll-target="#dsl2">DSL2</a>
  <ul class="collapse">
  <li><a href="#process" id="toc-process" class="nav-link" data-scroll-target="#process">Process</a>
  <ul class="collapse">
  <li><a href="#input" id="toc-input" class="nav-link" data-scroll-target="#input">input</a></li>
  <li><a href="#file-is-deprecated" id="toc-file-is-deprecated" class="nav-link" data-scroll-target="#file-is-deprecated">file is deprecated</a></li>
  <li><a href="#output" id="toc-output" class="nav-link" data-scroll-target="#output">output</a></li>
  <li><a href="#path-1" id="toc-path-1" class="nav-link" data-scroll-target="#path-1"><code>path</code></a></li>
  <li><a href="#arity" id="toc-arity" class="nav-link" data-scroll-target="#arity"><code>arity</code></a></li>
  <li><a href="#multiple-outputs" id="toc-multiple-outputs" class="nav-link" data-scroll-target="#multiple-outputs">Multiple outputs</a></li>
  <li><a href="#dynamic-output-file-names" id="toc-dynamic-output-file-names" class="nav-link" data-scroll-target="#dynamic-output-file-names">Dynamic output file names</a></li>
  <li><a href="#stdout" id="toc-stdout" class="nav-link" data-scroll-target="#stdout"><code>stdout</code></a></li>
  <li><a href="#eval" id="toc-eval" class="nav-link" data-scroll-target="#eval"><code>eval</code></a></li>
  <li><a href="#tuple-1" id="toc-tuple-1" class="nav-link" data-scroll-target="#tuple-1"><code>tuple</code></a></li>
  <li><a href="#additional-output" id="toc-additional-output" class="nav-link" data-scroll-target="#additional-output">Additional output</a></li>
  <li><a href="#when" id="toc-when" class="nav-link" data-scroll-target="#when">When</a></li>
  <li><a href="#directives" id="toc-directives" class="nav-link" data-scroll-target="#directives">Directives</a></li>
  <li><a href="#cache" id="toc-cache" class="nav-link" data-scroll-target="#cache"><code>cache</code></a></li>
  <li><a href="#executor" id="toc-executor" class="nav-link" data-scroll-target="#executor"><code>executor</code></a></li>
  <li><a href="#clusteroptions" id="toc-clusteroptions" class="nav-link" data-scroll-target="#clusteroptions"><code>clusterOptions</code></a></li>
  <li><a href="#queue" id="toc-queue" class="nav-link" data-scroll-target="#queue"><code>queue</code></a></li>
  <li><a href="#resourcelabel" id="toc-resourcelabel" class="nav-link" data-scroll-target="#resourcelabel"><code>resourceLabel</code></a></li>
  <li><a href="#scratch" id="toc-scratch" class="nav-link" data-scroll-target="#scratch"><code>scratch</code></a></li>
  <li><a href="#shell" id="toc-shell" class="nav-link" data-scroll-target="#shell"><code>shell</code></a></li>
  <li><a href="#conda" id="toc-conda" class="nav-link" data-scroll-target="#conda"><code>conda</code></a></li>
  <li><a href="#container" id="toc-container" class="nav-link" data-scroll-target="#container"><code>container</code></a></li>
  <li><a href="#cpu-memory" id="toc-cpu-memory" class="nav-link" data-scroll-target="#cpu-memory"><code>cpu</code> &amp; <code>memory</code></a></li>
  <li><a href="#disk" id="toc-disk" class="nav-link" data-scroll-target="#disk"><code>disk</code></a></li>
  <li><a href="#time" id="toc-time" class="nav-link" data-scroll-target="#time"><code>time</code></a></li>
  <li><a href="#resourcelimit" id="toc-resourcelimit" class="nav-link" data-scroll-target="#resourcelimit"><code>resourceLimit</code></a></li>
  <li><a href="#debug" id="toc-debug" class="nav-link" data-scroll-target="#debug"><code>debug</code></a></li>
  <li><a href="#errorstrategy" id="toc-errorstrategy" class="nav-link" data-scroll-target="#errorstrategy"><code>errorStrategy</code></a></li>
  <li><a href="#ext" id="toc-ext" class="nav-link" data-scroll-target="#ext"><code>ext</code></a></li>
  <li><a href="#label" id="toc-label" class="nav-link" data-scroll-target="#label"><code>label</code></a></li>
  <li><a href="#maxforks" id="toc-maxforks" class="nav-link" data-scroll-target="#maxforks"><code>maxForks</code></a></li>
  <li><a href="#module" id="toc-module" class="nav-link" data-scroll-target="#module"><code>module</code></a></li>
  <li><a href="#penv" id="toc-penv" class="nav-link" data-scroll-target="#penv"><code>penv</code></a></li>
  <li><a href="#puhlishdir" id="toc-puhlishdir" class="nav-link" data-scroll-target="#puhlishdir"><code>puhlishDir</code></a></li>
  <li><a href="#tag" id="toc-tag" class="nav-link" data-scroll-target="#tag"><code>tag</code></a></li>
  <li><a href="#dynamic-directives" id="toc-dynamic-directives" class="nav-link" data-scroll-target="#dynamic-directives">Dynamic directives</a></li>
  </ul></li>
  <li><a href="#channel" id="toc-channel" class="nav-link" data-scroll-target="#channel">Channel</a>
  <ul class="collapse">
  <li><a href="#channel-factories" id="toc-channel-factories" class="nav-link" data-scroll-target="#channel-factories">Channel factories</a></li>
  </ul></li>
  <li><a href="#operators" id="toc-operators" class="nav-link" data-scroll-target="#operators">Operators</a>
  <ul class="collapse">
  <li><a href="#mix" id="toc-mix" class="nav-link" data-scroll-target="#mix"><code>mix</code></a></li>
  </ul></li>
  <li><a href="#workflow" id="toc-workflow" class="nav-link" data-scroll-target="#workflow">Workflow</a>
  <ul class="collapse">
  <li><a href="#take" id="toc-take" class="nav-link" data-scroll-target="#take"><code>take</code></a></li>
  </ul></li>
  </ul></li>
  <li><a href="#misc" id="toc-misc" class="nav-link" data-scroll-target="#misc">Misc</a>
  <ul class="collapse">
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section"><code>-&gt;</code></a></li>
  <li><a href="#linkedhashmap" id="toc-linkedhashmap" class="nav-link" data-scroll-target="#linkedhashmap"><code>LinkedHashMap</code></a></li>
  </ul></li>
  <li><a href="#how-to-understand-a-nextflow-pipeline" id="toc-how-to-understand-a-nextflow-pipeline" class="nav-link" data-scroll-target="#how-to-understand-a-nextflow-pipeline">How to understand a nextflow pipeline?</a>
  <ul class="collapse">
  <li><a href="#main.nf" id="toc-main.nf" class="nav-link" data-scroll-target="#main.nf">main.nf</a></li>
  <li><a href="#initialization-and-parameter-definition" id="toc-initialization-and-parameter-definition" class="nav-link" data-scroll-target="#initialization-and-parameter-definition">Initialization and Parameter Definition:</a></li>
  <li><a href="#processes-and-workflow-execution" id="toc-processes-and-workflow-execution" class="nav-link" data-scroll-target="#processes-and-workflow-execution">Processes and Workflow Execution:</a></li>
  <li><a href="#groovy-class" id="toc-groovy-class" class="nav-link" data-scroll-target="#groovy-class">groovy class</a>
  <ul class="collapse">
  <li><a href="#public" id="toc-public" class="nav-link" data-scroll-target="#public"><code>public</code></a></li>
  <li><a href="#void" id="toc-void" class="nav-link" data-scroll-target="#void"><code>void</code></a></li>
  <li><a href="#static" id="toc-static" class="nav-link" data-scroll-target="#static"><code>static</code></a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Nextflow</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Nima Rafati </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 15, 2022</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="dsl2" class="level1">
<h1>DSL2</h1>
<section id="process" class="level2">
<h2 class="anchored" data-anchor-id="process">Process</h2>
<section id="input" class="level3">
<h3 class="anchored" data-anchor-id="input">input</h3>
<p>Inputs are <code>qualifier</code> and <code>name</code>. <code>qualifier</code> can be treated as variable type.<br>
- val: Access the input value by name in the process script.<br>
- path: Handle the input value as a path, staging the file properly in the execution context.<br>
- env: Use the input value to set an environment variable in the process script.<br>
- stdin: Forward the input value to the process stdin special file.<br>
- tuple: Handle a group of input values having any of the above qualifiers.<br>
- each: Execute the process for each element in the input collection.</p>
<section id="val" class="level4">
<h4 class="anchored" data-anchor-id="val"><code>val</code></h4>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> basicExample {</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">input:</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">val</span> x</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"echo process job </span><span class="va">$x</span><span class="st">"</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="ex">workflow</span> {</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  <span class="ex">def</span> num = Channel.of<span class="er">(</span><span class="ex">1,2,3</span><span class="kw">)</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  <span class="ex">basicExample</span><span class="er">(</span><span class="ex">num</span><span class="kw">)</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>or</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> basicExample {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">input:</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">val</span> x</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"echo process job </span><span class="va">$x</span><span class="st">"</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="ex">workflow</span> {</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Channel.of</span><span class="er">(</span><span class="ex">1,2,3</span><span class="kw">)</span><span class="ex">.into</span> <span class="kw">|</span> <span class="ex">basicExample</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="file-is-deprecated" class="level3">
<h3 class="anchored" data-anchor-id="file-is-deprecated">file is deprecated</h3>
<p>It is similar to path; check path instead.</p>
<section id="path" class="level4">
<h4 class="anchored" data-anchor-id="path"><code>path</code></h4>
<p>Path can be a (groovy) list of files or directories. For example, all the fasta files (*.fa) in a directory.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> blastThemAll {</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">input:</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">path</span> query_file <span class="co"># here you are in a way renaming the variable passed to the process similar to function. </span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"blastp -query </span><span class="va">${query_file}</span><span class="st"> -db nr"</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="ex">workflow</span> {</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="ex">def</span> proteins = Channel.fromPath<span class="er">(</span> <span class="st">'/some/path/*.fa'</span> <span class="kw">)</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="ex">blastThemAll</span><span class="er">(</span><span class="ex">proteins</span><span class="kw">)</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>You may also pass a specific file name. All the fastq files in a directory, are passed to <code>blastp</code> as <code>my_query.fa</code>.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> blastThemAll {</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">input</span> query_file, name: <span class="st">'my_query.fa'</span> <span class="co">#here input file is named as my_query.fa</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># or</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="ex">input</span> <span class="st">'my_query.fa'</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"blastp -query my_query.fa -db nr"</span> <span class="co">#here input file is named as my_query.fa</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="ex">workflow</span> {</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  <span class="ex">def</span> proteins = Channel.fromPath<span class="er">(</span> <span class="st">'/some/path/*.fa'</span> <span class="kw">)</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  <span class="ex">blastThemAll</span><span class="er">(</span><span class="ex">proteins</span><span class="kw">)</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>There might be situations that you want to pass certain number of files to a process and if the number of files is not equal to the number of files you want to pass, the process will not be executed.<br>
To address this you can use <code>arity</code> parameter.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">input:</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="ex">path</span><span class="er">(</span><span class="st">'one.txt'</span><span class="ex">,</span> arity: <span class="st">'1'</span><span class="kw">)</span>         <span class="ex">//</span> exactly one file is expected</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="ex">path</span><span class="er">(</span><span class="st">'two_*.txt'</span><span class="ex">,</span> arity: <span class="st">'2'</span><span class="kw">)</span>      <span class="ex">//</span> exactly two files are expected</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="ex">path</span><span class="er">(</span><span class="st">'several_*.txt'</span><span class="ex">,</span> arity: <span class="st">'1..*'</span><span class="kw">)</span>   <span class="ex">//</span> one or more files are expected</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>You can also control the name of the file in <code>task</code> directory by <code>stageAs</code> parameter.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">input:</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    <span class="ex">path</span><span class="er">(</span><span class="st">'one.txt'</span><span class="ex">,</span> stageAs: <span class="st">'my_file.txt'</span><span class="kw">)</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># or </span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="ex">path</span> x, stageAs: <span class="st">'my_file.txt'</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"my_command --in my_file.txt"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>You can also pass multiple files and use a variable ($x in this case) to refer to the file name.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">input:</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">path</span> x, stageAs: <span class="st">'my_dir/*.txt'</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"my_command --in </span><span class="va">$x</span><span class="st">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="env" class="level4">
<h4 class="anchored" data-anchor-id="env"><code>env</code></h4>
<p><code>env</code> can be used to define a variable in the process script. Opposite to <code>val</code> which is used to pass a variable across the processes.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> envExample {</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">input:</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">env</span> my_var</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"echo process job </span><span class="va">$my_var</span><span class="st">"</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="stdin" class="level4">
<h4 class="anchored" data-anchor-id="stdin"><code>stdin</code></h4>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> stdinExample {</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">input:</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">stdin</span> my_input</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"echo </span><span class="va">$my_input</span><span class="st">"</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> stdinExample {</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">input:</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">stdin</span> str</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"cat -"</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="ex">workflow</span> {</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Channel.of</span><span class="er">(</span><span class="st">'hello'</span><span class="ex">,</span> <span class="st">'hola'</span>, <span class="st">'bonjour'</span>, <span class="st">'ciao'</span><span class="kw">)</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">|</span> <span class="ex">map</span> { it + <span class="st">'\n'</span> } <span class="co">#it represent the element in the channel</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">|</span> <span class="ex">printAll</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="tuple" class="level4">
<h4 class="anchored" data-anchor-id="tuple"><code>tuple</code></h4>
<p>tuple is used to pass multiple variables to a process.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> tupleExample {</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    <span class="ex">input:</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="ex">tuple</span> val<span class="er">(</span><span class="ex">x</span><span class="kw">)</span><span class="ex">,</span> path<span class="er">(</span><span class="st">'input.txt'</span><span class="kw">)</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"""</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="st">    echo "</span><span class="ex">Processing</span> <span class="va">$x</span><span class="st">"</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="st">    cat input.txt &gt; copy</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="st">    """</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="ex">workflow</span> {</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Channel.of</span><span class="er">(</span> <span class="ex">[1,</span> <span class="st">'alpha.txt'</span>], [2, <span class="st">'beta.txt'</span>], [3, <span class="st">'delta.txt'</span>] <span class="kw">)</span> <span class="kw">|</span> <span class="ex">tupleExample</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The output will be : echo “Processing 1” cat alpha.txt &gt; copy echo “Processing 2” cat beta.txt &gt; copy echo “Processing 3” cat delta.txt &gt; copy</p>
</section>
<section id="each" class="level4">
<h4 class="anchored" data-anchor-id="each"><code>each</code></h4>
<p>Repeating a process for each element in a collection.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> alignSequences {</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">input:</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">path</span> in1 <span class="co"># is sequences</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="ex">each</span> param1 <span class="co"># is methods</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="ex">each</span> path<span class="er">(</span><span class="bu">dirs</span><span class="kw">)</span> <span class="co"># is libraries</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"""</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="st">  tool -in </span><span class="va">$in1</span><span class="st"> -mode </span><span class="va">$param1</span><span class="st"> -lib </span><span class="va">$dirs</span><span class="st"> &gt; result</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="st">  """</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="ex">workflow</span> {</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>  <span class="ex">in1</span> = Channel.fromPath<span class="er">(</span><span class="st">'*.txt'</span><span class="kw">)</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>  <span class="ex">param1</span> = [<span class="st">'R'</span>, <span class="st">'S'</span>]</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>  <span class="bu">dirs</span> = [ file<span class="er">(</span><span class="st">'dir1'</span><span class="kw">)</span><span class="ex">,</span> file<span class="er">(</span><span class="st">'dir2'</span><span class="kw">)</span><span class="ex">,</span> file<span class="er">(</span><span class="st">'dir3'</span><span class="kw">)</span> <span class="ex">]</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>  <span class="ex">alignSequences</span><span class="er">(</span><span class="ex">sequences,</span> methods, libraries<span class="kw">)</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="output" class="level3">
<h3 class="anchored" data-anchor-id="output">output</h3>
<p>By output you can define the output of a process. Similar to input, output can also have qualifiers.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> myProcess {</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">input:</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">path</span> input_file</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="ex">output:</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="ex">val</span> x</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="ex">val</span> <span class="st">'log'</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="ex">val</span> <span class="st">"</span><span class="va">${input_file</span><span class="er">.baseName</span><span class="va">}</span><span class="st">.out"</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  <span class="ex">script:</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>  <span class="ex">x</span> = input_file.name</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"""</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="st">  echo </span><span class="va">$x</span><span class="st"> &gt; log</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="st">  cat </span><span class="va">$input_file</span><span class="st"> &gt; </span><span class="va">${input_file</span><span class="er">.baseName</span><span class="va">}</span><span class="st">.out</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="st">  """</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a><span class="ex">workflow</span> {</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>  <span class="ex">ch_dummy</span> = Channel.fromPath<span class="er">(</span><span class="st">'*.csv'</span><span class="kw">)</span><span class="fu">.first()</span></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>  <span class="kw">(</span><span class="ex">var,</span> log, basename<span class="kw">)</span> <span class="ex">=</span> myProcess<span class="er">(</span><span class="ex">ch_dummy</span><span class="kw">)</span></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>  <span class="ex">var.view</span> { <span class="st">"ch_var: </span><span class="va">$it</span><span class="st">"</span> }</span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>  <span class="ex">log.view</span> { <span class="st">"ch_str: </span><span class="va">$it</span><span class="st">"</span> }</span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>  <span class="ex">basename.view</span> { <span class="st">"ch_exp: </span><span class="va">$it</span><span class="st">"</span> }</span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a><span class="co"># or</span></span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a><span class="ex">workflow</span> {</span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>  <span class="ex">ch_dummy</span> = Channel.fromPath<span class="er">(</span><span class="st">'*.csv'</span><span class="kw">)</span><span class="fu">.first()</span></span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a>  <span class="ex">results</span> = ch_dummy <span class="kw">|</span> <span class="ex">myProcess</span></span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Unpacking the results</span></span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a>  <span class="ex">results.view</span> { result <span class="at">-</span><span class="op">&gt;</span></span>
<span id="cb13-35"><a href="#cb13-35" aria-hidden="true" tabindex="-1"></a>    <span class="ex">def</span> <span class="er">(</span><span class="ex">var,</span> log, basename<span class="kw">)</span> <span class="ex">=</span> result</span>
<span id="cb13-36"><a href="#cb13-36" aria-hidden="true" tabindex="-1"></a>    <span class="ex">println</span> <span class="st">"ch_var: </span><span class="va">$var</span><span class="st">"</span></span>
<span id="cb13-37"><a href="#cb13-37" aria-hidden="true" tabindex="-1"></a>    <span class="ex">println</span> <span class="st">"ch_str: </span><span class="va">$log</span><span class="st">"</span></span>
<span id="cb13-38"><a href="#cb13-38" aria-hidden="true" tabindex="-1"></a>    <span class="ex">println</span> <span class="st">"ch_exp: </span><span class="va">$basename</span><span class="st">"</span></span>
<span id="cb13-39"><a href="#cb13-39" aria-hidden="true" tabindex="-1"></a>  <span class="er">}</span></span>
<span id="cb13-40"><a href="#cb13-40" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="path-1" class="level3">
<h3 class="anchored" data-anchor-id="path-1"><code>path</code></h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> myProcess {</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">input:</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">path</span> input_file</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="ex">output:</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="ex">path</span> <span class="st">"</span><span class="va">${input_file</span><span class="er">.baseName</span><span class="va">}</span><span class="st">.out"</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="ex">script:</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"""</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="st">  echo "</span><span class="ex">Processing</span> <span class="va">${input_file}</span><span class="st">" &gt; </span><span class="va">${input_file</span><span class="er">.baseName</span><span class="va">}</span><span class="st">.out</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="st">  """</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="ex">workflow{</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>  <span class="ex">input_file</span> = channel.fromPath<span class="er">(</span><span class="st">'*.txt'</span><span class="kw">)</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>  <span class="ex">results</span> = input_files <span class="kw">|</span> <span class="ex">myProcess</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># or</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>  <span class="ex">results</span> = input_files.map { it <span class="at">-</span><span class="op">&gt;</span> myProcess<span class="er">(</span><span class="ex">it</span><span class="kw">)</span> <span class="er">}</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># or</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># results = input_files.map { myProcess(it) }</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>  <span class="co"># or</span></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># results = input_files.map(myProcess)</span></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>  <span class="ex">results.view</span> { results <span class="at">-</span><span class="op">&gt;</span></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>  <span class="ex">def</span> <span class="er">(</span><span class="ex">output_file</span><span class="kw">)</span> <span class="ex">=</span> result</span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>  <span class="ex">println</span> <span class="st">"output file: </span><span class="va">$output_file</span><span class="st">"</span></span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>  <span class="er">}</span></span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># or</span></span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># results.view {results -&gt;</span></span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># println "output file: £{results}"</span></span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># }</span></span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="arity" class="level3">
<h3 class="anchored" data-anchor-id="arity"><code>arity</code></h3>
<p>Similar to input, you can use <code>arity</code> to control the number of files to be generated.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">output:</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    <span class="ex">path</span><span class="er">(</span><span class="st">'one.txt'</span><span class="ex">,</span> arity: <span class="st">'1'</span><span class="kw">)</span>         <span class="ex">//</span> exactly one file is expected</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    <span class="ex">path</span><span class="er">(</span><span class="st">'two_*.txt'</span><span class="ex">,</span> arity: <span class="st">'2'</span><span class="kw">)</span>      <span class="ex">//</span> exactly two files are expected</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    <span class="ex">path</span><span class="er">(</span><span class="st">'several_*.txt'</span><span class="ex">,</span> arity: <span class="st">'1..*'</span><span class="kw">)</span>   <span class="ex">//</span> one or more files are expected</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="multiple-outputs" class="level3">
<h3 class="anchored" data-anchor-id="multiple-outputs">Multiple outputs</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> myProcess {</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">input:</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">path</span> input_file</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="ex">output:</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="ex">path</span> <span class="st">"</span><span class="va">${input_file</span><span class="er">.baseName</span><span class="va">}</span><span class="st">.out"</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="ex">path</span> <span class="st">"</span><span class="va">${input_file</span><span class="er">.baseName</span><span class="va">}</span><span class="st">.log"</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  <span class="ex">script:</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"""</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="st">  echo "</span><span class="ex">Processing</span> <span class="va">${input_file}</span><span class="st">" &gt; </span><span class="va">${input_file</span><span class="er">.baseName</span><span class="va">}</span><span class="st">.out</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a><span class="st">  echo "</span>Log file for <span class="va">${input_file}</span><span class="st">" &gt; </span><span class="va">${input_file</span><span class="er">.baseName</span><span class="va">}</span><span class="st">.log</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="st">  """</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a><span class="ex">workflow{</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>  <span class="ex">input_file</span> = channel.fromPath<span class="er">(</span><span class="st">'*.txt'</span><span class="kw">)</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>  <span class="ex">results</span> = input_files <span class="kw">|</span> <span class="ex">myProcess</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>  <span class="ex">results.view</span> { results <span class="at">-</span><span class="op">&gt;</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>  <span class="ex">def</span> <span class="er">(</span><span class="ex">output_file,</span> log_file<span class="kw">)</span> <span class="ex">=</span> result</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>  <span class="ex">println</span> <span class="st">"output file: </span><span class="va">$output_file</span><span class="st">"</span></span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>  <span class="ex">println</span> <span class="st">"log file: </span><span class="va">$log_file</span><span class="st">"</span></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>  <span class="er">}</span></span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="dynamic-output-file-names" class="level3">
<h3 class="anchored" data-anchor-id="dynamic-output-file-names">Dynamic output file names</h3>
<p>To save files dependent on the input file name.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> mapping {</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">input:</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">val</span> sample</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="ex">path</span> seq</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="ex">output:</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="ex">path</span> <span class="st">"</span><span class="va">${sample}</span><span class="st">.sam"</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"""</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="st">  tool -in </span><span class="va">$seq</span><span class="st"> &gt; </span><span class="va">${sample}</span><span class="st">.sam</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="st">  """</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="stdout" class="level3">
<h3 class="anchored" data-anchor-id="stdout"><code>stdout</code></h3>
<p>To output the result of a process to the stdout.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> myProcess {</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">input:</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">path</span> input_file</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="ex">output:</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="ex">stdout</span> </span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="ex">script:</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"""</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="st">  echo "</span><span class="ex">Processing</span> <span class="va">${input_file}</span><span class="st">" </span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="st">  """</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="eval" class="level3">
<h3 class="anchored" data-anchor-id="eval"><code>eval</code></h3>
<p><code>eval</code> is used to save a standard output of a command.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> myProcess {</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">input:</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">path</span> input_file</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="ex">output:</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="bu">eval</span> <span class="er">(</span><span class="st">'date'</span><span class="kw">)</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  <span class="ex">script:</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"""</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="st">  echo "</span><span class="ex">Processing</span> <span class="va">${input_file}</span><span class="st">" &gt; result.txt</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="st">  """</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="tuple-1" class="level3">
<h3 class="anchored" data-anchor-id="tuple-1"><code>tuple</code></h3>
<p>BY using <code>tuple</code> in output you can define multiple outputs as a channel. For example, you can link the output to information in metadata such as sample_name.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> myProcess {</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">input:</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">path</span> input_file</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="ex">output:</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="ex">tuple</span> val<span class="er">(</span><span class="ex">input_file</span><span class="kw">)</span><span class="ex">,</span> path<span class="er">(</span><span class="st">"</span><span class="va">${input_file</span><span class="er">.baseName</span><span class="va">}</span><span class="st">.out"</span><span class="kw">)</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  <span class="ex">script:</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"""</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="st">  echo "</span><span class="ex">Processing</span> <span class="va">${input_file}</span><span class="st">" &gt; </span><span class="va">${input_file</span><span class="er">.baseName</span><span class="va">}</span><span class="st">.out</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="st">  """</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a><span class="ex">workflow{</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>  <span class="ex">input_file</span> = channel.fromPath<span class="er">(</span><span class="st">'*.txt'</span><span class="kw">)</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>  <span class="ex">results</span> = input_files <span class="kw">|</span> <span class="ex">myProcess</span></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>  <span class="ex">results.view</span> { results <span class="at">-</span><span class="op">&gt;</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>  <span class="ex">def</span> <span class="er">(</span><span class="ex">input_file,</span> output_file<span class="kw">)</span> <span class="ex">=</span> result</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>  <span class="ex">println</span> <span class="st">"input file: </span><span class="va">$input_file</span><span class="st">"</span></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>  <span class="ex">println</span> <span class="st">"output file: </span><span class="va">$output_file</span><span class="st">"</span></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>  <span class="er">}</span></span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="additional-output" class="level3">
<h3 class="anchored" data-anchor-id="additional-output">Additional output</h3>
<section id="emit" class="level4">
<h4 class="anchored" data-anchor-id="emit"><code>emit</code></h4>
<p>By using <code>emit</code> you can access the output of a process in the workflow.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> myProcess {</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">output:</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">path</span> <span class="st">"test.out"</span>, emit: output_file</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># or</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># emit output_file</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="ex">script:</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"""</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="st">  echo "</span><span class="ex">this</span> is a test<span class="st">"&gt; </span><span class="va">$test</span><span class="st">.out</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a><span class="st">  """</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="ex">workflow{</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">myProcess()</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">myProcess.out.output_file.view()</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="optional-true-fales" class="level4">
<h4 class="anchored" data-anchor-id="optional-true-fales"><code>optional: true | fales</code></h4>
<p>It can be used to switch on or off the output. In other words to give the option to return the output or not.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> myProcess {</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">output:</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">path</span> <span class="st">"test.out"</span>, optional: true</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="ex">script:</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"""</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="st">  echo "</span><span class="ex">this</span> is a test<span class="st">"&gt; </span><span class="va">$test</span><span class="st">.out</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="st">  """</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="when" class="level3">
<h3 class="anchored" data-anchor-id="when">When</h3>
<p><code>when</code> is used to control the execution of a process dependent on state of given condition.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> myProcess {</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">input:</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">path</span> input_file</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="ex">output:</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="ex">path</span> <span class="st">"</span><span class="va">${input_file</span><span class="er">.baseName</span><span class="va">}</span><span class="st">.out"</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="ex">when:</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>  <span class="ex">input_file.name</span> =~ /Sample_<span class="pp">*</span>.txt/</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>  <span class="ex">script:</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"""</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a><span class="st">  echo "</span><span class="ex">Processing</span> <span class="va">${input_file}</span><span class="st">" &gt; </span><span class="va">${input_file</span><span class="er">.baseName</span><span class="va">}</span><span class="st">.out</span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a><span class="st">  """</span></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="directives" class="level3">
<h3 class="anchored" data-anchor-id="directives">Directives</h3>
<p>Optional settings for a process.</p>
<section id="accelerator" class="level4">
<h4 class="anchored" data-anchor-id="accelerator"><code>accelerator</code></h4>
<p>To specify a hardware.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> myProcess {</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">input:</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">path</span> input_file</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="ex">output:</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="ex">path</span> <span class="st">"</span><span class="va">${input_file</span><span class="er">.baseName</span><span class="va">}</span><span class="st">.out"</span>, emit: output_file</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="ex">accelerator</span> 4, type: <span class="st">'nvidia-h100-mega-80gb'</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>  <span class="ex">script:</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"""</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="st">  tool --in </span><span class="va">$input_file</span><span class="st"> --out </span><span class="va">${input_file</span><span class="er">.baseName</span><span class="va">}</span><span class="st">.out</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a><span class="st">  """</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="beforescript-or-afterscript" class="level4">
<h4 class="anchored" data-anchor-id="beforescript-or-afterscript"><code>beforeScript</code> or <code>afterScript</code></h4>
<p>This directives are used to run custom script before or after the main process.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> myProcess {</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">input:</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">path</span> input_file</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="ex">output:</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="ex">path</span> <span class="st">"</span><span class="va">${input_file</span><span class="er">.baseName</span><span class="va">}</span><span class="st">.out"</span>, emit: output_file</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>  <span class="ex">beforeScript:</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"""</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="st">  source /path/to/my/script.sh</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="st">  """</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>  <span class="ex">script:</span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"""</span></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a><span class="st">  echo "</span><span class="ex">Processing</span> <span class="va">${input_file}</span><span class="st">" &gt; </span><span class="va">${input_file</span><span class="er">.baseName</span><span class="va">}</span><span class="st">.out</span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a><span class="st">  """</span></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>  <span class="ex">afterScript:</span></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">"""</span></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a><span class="st">  echo "</span><span class="ex">Process</span> finished<span class="st">"</span></span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a><span class="st">  """</span></span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="cache" class="level3">
<h3 class="anchored" data-anchor-id="cache"><code>cache</code></h3>
<p>To cache the output of a process.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> myProcess {</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">cahce</span> true <span class="co"># or false </span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="co">#  cache lenient: true # minimal input just to save metadata such as file name and size. </span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="co">#  cache deep: true # file's content is saved in the cache.</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>  <span class="ex">script:</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"""</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="st">  command....</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="st">  """</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="executor" class="level3">
<h3 class="anchored" data-anchor-id="executor"><code>executor</code></h3>
<p>To specify the executor.<br>
- slurm - local - k8s - awsbatch - sge - pbspro - lsf - …..</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> myProcess {</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">executor</span> <span class="st">'slurm'</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">//...</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>You can also create profile where you specify cluster and project.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="ex">profiles</span> {</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    <span class="ex">uppmax</span> {</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>        <span class="ex">executor</span> {</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>            <span class="ex">name</span> = <span class="st">'slurm'</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>        <span class="er">}</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>        <span class="ex">process</span> {</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>            <span class="ex">scratch</span> = <span class="st">'$SNIC_TMP'</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>            <span class="ex">clusterOptions</span> = <span class="st">' -A snic2022-22-606  --mail-type=all --mail-user=nimarafati@gmail.com '</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>        <span class="er">}</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>    <span class="er">}</span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="clusteroptions" class="level3">
<h3 class="anchored" data-anchor-id="clusteroptions"><code>clusterOptions</code></h3>
<p>To specify the settings for a cluster.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> myProcess {</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">executor</span> <span class="st">'slurm'</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">clusterOptions</span> <span class="st">'-A snic2022-22-606  --mail-type=all'</span> </span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="ex">//...</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="queue" class="level3">
<h3 class="anchored" data-anchor-id="queue"><code>queue</code></h3>
<p>It allows you to set the queue for a process when submitting a job when using grid based executer.<br>
- <code>short</code> for short jobs.<br>
- <code>long</code> for long jobs.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> myProcess {</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">queue</span> <span class="st">'short'</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">executor</span> <span class="st">'sge'</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="ex">//...</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="resourcelabel" class="level3">
<h3 class="anchored" data-anchor-id="resourcelabel"><code>resourceLabel</code></h3>
<p>Using custom-name to pair the workflow to the computing resources (AWS Batch,…). This should be linked according to the structure of the cloud system.</p>
</section>
<section id="scratch" class="level3">
<h3 class="anchored" data-anchor-id="scratch"><code>scratch</code></h3>
<p>To specify the scratch directory, where tasks output are temporarily stored.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> myProcess {</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">scratch</span> <span class="st">'/path/to/scratch'</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">//...</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="shell" class="level3">
<h3 class="anchored" data-anchor-id="shell"><code>shell</code></h3>
<p>To specify the shell to run the process. You can have it in configuration file.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> {</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">shell</span> <span class="st">'/bin/bash'</span>, <span class="st">'-euo'</span>, <span class="st">'pipefail'</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="co"># or</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="ex">process.shell</span> = [<span class="st">'/bin/bash'</span>, <span class="st">'-euo'</span>, <span class="st">'pipefail'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="conda" class="level3">
<h3 class="anchored" data-anchor-id="conda"><code>conda</code></h3>
<p>To specify a conda environment.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> myProcess {</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">conda</span> <span class="st">'tool=0.1.1'</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">//...</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="container" class="level3">
<h3 class="anchored" data-anchor-id="container"><code>container</code></h3>
<p>To specify a container.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> myProcess {</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">container</span> <span class="st">'ubuntu:20.04'</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">//...</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="cpu-memory" class="level3">
<h3 class="anchored" data-anchor-id="cpu-memory"><code>cpu</code> &amp; <code>memory</code></h3>
<p>To specify the number of CPUs.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> myProcess {</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">cpu</span> 4</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">memory</span> <span class="st">'8 GB'</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="ex">executor</span> <span class="st">'slurm'</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>  <span class="ex">script:</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"""</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a><span class="st">  command.... --cpu </span><span class="va">${task</span><span class="er">.cpus</span><span class="va">}</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a><span class="st">  """</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="disk" class="level3">
<h3 class="anchored" data-anchor-id="disk"><code>disk</code></h3>
<p>To specify the disk space.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> myProcess {</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">disk</span> <span class="st">'100 GB'</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">executor</span> <span class="st">'slurm'</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="ex">//...</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="time" class="level3">
<h3 class="anchored" data-anchor-id="time"><code>time</code></h3>
<p>To specify the time limit for a process.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> myProcess {</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">time</span> <span class="st">'8 h'</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">//...</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="resourcelimit" class="level3">
<h3 class="anchored" data-anchor-id="resourcelimit"><code>resourceLimit</code></h3>
<p>To specify the resource limit for a process.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> myProcess {</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">resourceLimit</span> <span class="st">'cpus: 16, memory: 8GB, time: 8.h, disk: 2GB'</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">//...</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>You can also specify the resource limit in the configuration file.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> {</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">resourceLimit</span> <span class="st">'cpus: 16, memory: 8GB, time: 8.h'</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="debug" class="level3">
<h3 class="anchored" data-anchor-id="debug"><code>debug</code></h3>
<p>It is explanatory, to debug the process.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> myProcess {</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">debug</span> true</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">//...</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="errorstrategy" class="level3">
<h3 class="anchored" data-anchor-id="errorstrategy"><code>errorStrategy</code></h3>
<p>Tracing and handling the error in the workflow</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Name</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Executor</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">terminate</td>
<td style="text-align: left;">Terminates the execution as soon as an error condition is reported. Pending jobs are killed (default)</td>
</tr>
<tr class="even">
<td style="text-align: left;">finish</td>
<td style="text-align: left;">Initiates an orderly pipeline shutdown when an error condition is raised, waiting the completion of any submitted job.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ignore</td>
<td style="text-align: left;">Ignores processes execution errors.</td>
</tr>
<tr class="even">
<td style="text-align: left;">retry</td>
<td style="text-align: left;">Re-submit for execution a process returning an error condition.</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>You can use <code>maxErrors 5</code>, <code>maxRetries = 3</code> together with <code>retry</code>.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> ignoreAnyError {</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">errorStrategy</span> <span class="st">'retry'</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">maxErrors</span> 5</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>  <span class="ex">script:</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>  <span class="op">&lt;</span>your <span class="bu">command</span> string here<span class="op">&gt;</span></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="ext" class="level3">
<h3 class="anchored" data-anchor-id="ext"><code>ext</code></h3>
<p>To specify user custom settings.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> myProcess {</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">ext</span> version: <span class="st">'1.0'</span>, arg: <span class="st">'--param1 value1 --param2 value2'</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">//...</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Or in the configuration</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="ex">params.star_version</span> = <span class="st">'2.7.9.a'</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="ex">params.star_args</span> = <span class="st">'--runThreadN 8 '</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="label" class="level3">
<h3 class="anchored" data-anchor-id="label"><code>label</code></h3>
<p>To specify a label for a process.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> myProcess {</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">label</span> <span class="st">'my_label'</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">//...</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>You can use the same label for multiple processes. Also, you can use multiple labels for a process.</p>
</section>
<section id="maxforks" class="level3">
<h3 class="anchored" data-anchor-id="maxforks"><code>maxForks</code></h3>
<p>Define how many process instances to perform in parallel.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> doNotParallelizeIt {</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">maxForks</span> 1</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">'''</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="st">  &lt;your script here&gt;</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a><span class="st">  '''</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="module" class="level3">
<h3 class="anchored" data-anchor-id="module"><code>module</code></h3>
<p>To load a module in local machine/server.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> myProcess {</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">module</span> <span class="st">'BioPerl:blast'</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>      <span class="ex">//...</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="penv" class="level3">
<h3 class="anchored" data-anchor-id="penv"><code>penv</code></h3>
<p>To specify parallel environments.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> myProcess {</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">cpu</span> 4</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">penv</span> <span class="st">'openmpi'</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="ex">executor</span> <span class="st">'slurm'</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>  <span class="ex">//...</span></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="puhlishdir" class="level3">
<h3 class="anchored" data-anchor-id="puhlishdir"><code>puhlishDir</code></h3>
<p>To specify the directory to publish the output. Other options to set:<br>
- <code>enabled</code> to enable or disable the publishing.<br>
- <code>failOnError</code> to stop the workflow if the publishing fails.<br>
- <code>mode</code> to specify the mode of publishing:<br>
- <code>copy</code> to copy the files to the publish directory.<br>
- <code>link</code> to create a symbolic link to the files in the publish directory.<br>
- <code>move</code> to move the files to the publish directory.<br>
- <code>rellink</code> to create a relative symbolic link to the files in the publish directory.<br>
- <code>symlink</code> to create a symbolic link to the files in the publish directory.<br>
- <code>path</code> to specify the path to the publish directory. <code>publishDir path: '/path/results/'</code><br>
- <code>pattern</code> to specify the pattern of the files to publish. <code>publishDir pattern: '*.txt'</code><br>
- <code>saveAs</code> to specify the name of the file in the publish directory. <code>publishDir saveAs: 'my_file.txt'</code><br>
-</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> myProcess {</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">publishDir</span> <span class="st">'results'</span>, mode: <span class="st">'copy'</span>, overwrite: true</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">//...</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="tag" class="level3">
<h3 class="anchored" data-anchor-id="tag"><code>tag</code></h3>
<p>To specify a tag for a every analysis in process which will be saved in the log file. The difference with <code>label</code> is that <code>label</code> is used to label a group of analysis in processes.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> myProcess {</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">tag</span> <span class="st">'$sample'</span>  </span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="ex">input:</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>  <span class="ex">val</span> sample</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>  <span class="ex">script</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"""</span></span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a><span class="st">  echo "</span><span class="ex">Processing</span> <span class="va">$sample</span><span class="st">"</span></span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a><span class="st">  """</span></span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a><span class="ex">workflow</span> {</span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Channel.of</span><span class="er">(</span><span class="st">'sampleA'</span><span class="ex">,</span> <span class="st">'sampleB'</span>, <span class="st">'sampleC'</span><span class="kw">)</span> <span class="kw">|</span> <span class="ex">myProcess</span></span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>This will give output as:</p>
<pre><code>Launching `myProcess` [sampleA]
Launching `myProcess` [sampleB]
Launching `myProcess` [sampleC]</code></pre>
</section>
<section id="dynamic-directives" class="level3">
<h3 class="anchored" data-anchor-id="dynamic-directives">Dynamic directives</h3>
<section id="setting-resources-dynamically" class="level4">
<h4 class="anchored" data-anchor-id="setting-resources-dynamically">Setting resources dynamically</h4>
<p>You can instruct the process to dynamially change the settings dependent on the input. In following example the queue is set to <code>short</code> if the input file is smaller than 1MB.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> myProcess {</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">input:</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">path</span> input_file</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>  <span class="ex">queue</span> {input_file.size <span class="op">&lt;</span> 1.MB <span class="pp">?</span> <span class="st">'short'</span>, <span class="st">'long'</span>}</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>  <span class="ex">script:</span></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"""</span></span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a><span class="st">  echo "</span><span class="ex">Processing</span> <span class="va">${input_file}</span> on queue <span class="va">${task</span><span class="er">.queue</span><span class="va">}</span><span class="st">"</span></span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a><span class="st">  """</span></span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Or for computing depedenet on the process labels.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> FASTQC {</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>    <span class="ex">tag</span> <span class="st">"</span><span class="va">$meta</span><span class="st">.id"</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>    <span class="ex">label</span> <span class="st">'process_medium'</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>    <span class="ex">//...</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> TRIMMOMATIC {</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>    <span class="ex">tag</span> <span class="st">"</span><span class="va">$meta</span><span class="st">.id"</span></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>    <span class="ex">label</span> <span class="st">'process_low'</span></span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>    <span class="ex">//...</span></span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> {</span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a>  <span class="ex">withlabel:</span> <span class="st">'process_medium'</span> {</span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a>        <span class="ex">cpus</span>   = { check_max<span class="er">(</span> <span class="ex">2</span>     <span class="pp">*</span> task.attempt, <span class="st">'cpus'</span>    <span class="kw">)</span> <span class="er">}</span></span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a>        <span class="ex">memory</span> = { check_max<span class="er">(</span> <span class="ex">12.GB</span> <span class="pp">*</span> task.attempt, <span class="st">'memory'</span>  <span class="kw">)</span> <span class="er">}</span></span>
<span id="cb52-16"><a href="#cb52-16" aria-hidden="true" tabindex="-1"></a>        <span class="bu">time</span>   = { check_max<span class="er">(</span> <span class="ex">4.h</span>   <span class="pp">*</span> task.attempt, <span class="st">'time'</span>    <span class="kw">)</span> <span class="er">}</span></span>
<span id="cb52-17"><a href="#cb52-17" aria-hidden="true" tabindex="-1"></a>    <span class="er">}</span></span>
<span id="cb52-18"><a href="#cb52-18" aria-hidden="true" tabindex="-1"></a>    <span class="ex">withlabel:</span> <span class="st">'process_low'</span> {</span>
<span id="cb52-19"><a href="#cb52-19" aria-hidden="true" tabindex="-1"></a>        <span class="ex">cpus</span>   = { check_max<span class="er">(</span> <span class="ex">1</span>     <span class="pp">*</span> task.attempt, <span class="st">'cpus'</span>    <span class="kw">)</span> <span class="er">}</span></span>
<span id="cb52-20"><a href="#cb52-20" aria-hidden="true" tabindex="-1"></a>        <span class="ex">memory</span> = { check_max<span class="er">(</span> <span class="ex">6.GB</span>  <span class="pp">*</span> task.attempt, <span class="st">'memory'</span>  <span class="kw">)</span> <span class="er">}</span></span>
<span id="cb52-21"><a href="#cb52-21" aria-hidden="true" tabindex="-1"></a>        <span class="bu">time</span>   = { check_max<span class="er">(</span> <span class="ex">2.h</span>   <span class="pp">*</span> task.attempt, <span class="st">'time'</span>    <span class="kw">)</span> <span class="er">}</span></span>
<span id="cb52-22"><a href="#cb52-22" aria-hidden="true" tabindex="-1"></a>    <span class="er">}</span></span>
<span id="cb52-23"><a href="#cb52-23" aria-hidden="true" tabindex="-1"></a>  <span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="setting-retry-dynamically" class="level4">
<h4 class="anchored" data-anchor-id="setting-retry-dynamically">Setting retry dynamically</h4>
<p>You can set the retry dynamically dependent on the availability of ther resources (e.g.&nbsp;network congestion,….).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> {</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>   <span class="ex">errorStrategy</span> = { task.exitStatus in <span class="pp">[</span><span class="ss">143,137,104,134,139</span><span class="pp">]</span> <span class="pp">?</span> <span class="st">'retry'</span> : <span class="st">'finish'</span> }</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>    <span class="ex">maxRetries</span>    = 1</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>    <span class="ex">maxErrors</span>     = <span class="st">'-1'</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>143 (SIGTERM): Process was terminated (possibly due to a timeout).<br>
</li>
<li>137 (SIGKILL): Process was killed (possibly due to exceeding resource limits).<br>
</li>
<li>104: Less common, could be application-specific or network-related.<br>
</li>
<li>134 (abort): Process aborted due to internal error.<br>
</li>
<li>139 (SIGSEGV): Process encountered a segmentation fault.</li>
</ul>
</section>
</section>
</section>
<section id="channel" class="level2">
<h2 class="anchored" data-anchor-id="channel">Channel</h2>
<p>There are two channel types: - Queue channel: A channel that emits a sequence of values. This channel can be created by:<br>
- factory methods: <code>of</code>, <code>fromPath</code><br>
- operators: <code>map</code>, <code>flatMap</code> - processes: see above<br>
- Value channel: A channel that emits a single value. This channel can be created by:<br>
- factory methods: <code>value</code> - operators: <code>first</code>, <code>collect</code>, <code>reduce</code></p>
<section id="channel-factories" class="level3">
<h3 class="anchored" data-anchor-id="channel-factories">Channel factories</h3>
<section id="channel.empty" class="level4">
<h4 class="anchored" data-anchor-id="channel.empty"><code>channel.empty</code></h4>
<p>Creating an empty channel without emitting any value.</p>
</section>
<section id="channel.from" class="level4">
<h4 class="anchored" data-anchor-id="channel.from"><code>channel.from</code></h4>
<p>Creating a channel from a list of values.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ch</span> = Channel.from<span class="er">(</span> <span class="st">'alpha'</span><span class="ex">,</span> <span class="st">'beta'</span>, <span class="st">'delta'</span> <span class="kw">)</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="ex">ch.subscribe</span> { println <span class="st">"Got: </span><span class="va">$it</span><span class="st">"</span> }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li><code>subscribe</code> a function for the channel printing the emitted values</li>
</ul>
</section>
<section id="channel.fromlist" class="level4">
<h4 class="anchored" data-anchor-id="channel.fromlist"><code>channel.fromList</code></h4>
<p>Creating a channel from a list of values.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ch</span> = Channel.fromList<span class="er">(</span> <span class="ex">[</span><span class="st">'alpha'</span><span class="ex">,</span> <span class="st">'beta'</span>, <span class="st">'delta'</span>] <span class="kw">)</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ch.view()</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Or</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a><span class="ex">channel.</span></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>  <span class="ex">fromList</span><span class="er">(</span> <span class="ex">[</span><span class="st">'alpha'</span><span class="ex">,</span> <span class="st">'beta'</span>, <span class="st">'delta'</span>] <span class="kw">)</span></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>  <span class="ex">.view</span> { println <span class="st">"Got: </span><span class="va">$it</span><span class="st">"</span> }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Output:</p>
<pre><code>Got: alpha
Got: beta
Got: delta</code></pre>
</section>
<section id="channel.frompath" class="level4">
<h4 class="anchored" data-anchor-id="channel.frompath"><code>channel.fromPath</code></h4>
<p>Emitting file(s) from a path. <strong>NOTE: does not check whether the file exists.</strong></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="ex">myFileChannel</span> = Channel.fromPath<span class="er">(</span> <span class="st">'/data/file.txt'</span> <span class="kw">)</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="ex">pairFiles</span> = Channel.fromPath<span class="er">(</span> <span class="st">'data/file_{1,2}.fq'</span> <span class="kw">)</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="ex">expl3</span> = Channel.fromPath<span class="er">(</span> <span class="st">'/path/*'</span><span class="ex">,</span> hidden: true <span class="kw">)</span> <span class="co"># search for hidden files.   </span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a><span class="ex">myFileChannel</span> = Channel.fromPath<span class="er">(</span> <span class="st">'/path/*b'</span><span class="ex">,</span> type: <span class="st">'dir'</span> <span class="kw">)</span> <span class="co"># Listing DIRECTORIES ending with b</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a><span class="ex">myFileChannel</span> = Channel.fromPath<span class="er">(</span> <span class="st">'/path/a*'</span><span class="ex">,</span> type: <span class="st">'any'</span> <span class="kw">)</span> <span class="co"># Listing files and directories starting with a  </span></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a><span class="ex">Channel.fromPath</span><span class="er">(</span> <span class="ex">[</span><span class="st">'/some/path/*.txt'</span><span class="ex">,</span> <span class="st">'/other/path/*.tx'</span>] <span class="kw">)</span> <span class="co"># You can pass multiple formats to channel  </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>** checkes directories for given files too.</p>
<p>Parametrs:<br>
- <code>maxDepth</code>: Maximum number of directory levels to visit (default: no limit)<br>
- <code>followLinks</code>: When true it follows symbolic links during directories tree traversal, otherwise they are managed as files (default: true)<br>
- <code>relative</code>: When true returned paths are relative to the top-most common directory (default: false)<br>
- <code>checkIfExists</code>: When true throws an exception of the specified path do not exist in the file system (default: false)</p>
</section>
<section id="channel.fromfilepairs" class="level4">
<h4 class="anchored" data-anchor-id="channel.fromfilepairs"><code>channel.fromFilePairs</code></h4>
<p>Emitting pair files (read1/read2).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="ex">Channel</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">.fromFilePairs</span><span class="er">(</span><span class="st">'/domus/h1/nimar/nextflow_tutorial/fastq/*{1,2}.fq'</span><span class="kw">)</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.view()</span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a><span class="co"># [HG00100, [/domus/h1/nimar/nextflow_tutorial/fastq/HG00100_1.fq, /domus/h1/nimar/nextflow_tutorial/fastq/HG00100_2.fq]]</span></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a><span class="co"># [HG00097, [/domus/h1/nimar/nextflow_tutorial/fastq/HG00097_1.fq, /domus/h1/nimar/nextflow_tutorial/fastq/HG00097_2.fq]]</span></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a><span class="co"># [HG00101, [/domus/h1/nimar/nextflow_tutorial/fastq/HG00101_1.fq, /domus/h1/nimar/nextflow_tutorial/fastq/HG00101_2.fq]]</span></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a><span class="ex">Channel</span></span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>  <span class="ex">.fromFilePairs</span><span class="er">(</span><span class="st">'/some/data/*'</span><span class="ex">,</span> size: <span class="at">-1</span><span class="kw">)</span> <span class="kw">{</span> <span class="fu">file</span> <span class="at">-</span><span class="op">&gt;</span> file.extension }</span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>  <span class="ex">.view</span> { ext, files <span class="at">-</span><span class="op">&gt;</span> <span class="st">"Files with the extension </span><span class="va">$ext</span><span class="st"> are </span><span class="va">$files</span><span class="st">"</span> }</span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Files with the extension fq are [/domus/h1/nimar/nextflow_tutorial/fastq/HG00097_1.fq, /domus/h1/nimar/nextflow_tutorial/fastq/HG00097_2.fq, /domus/h1/nimar/nextflow_tutorial/fastq/HG00100_1.fq, /domus/h1/nimar/nextflow_tutorial/fastq/HG00100_2.fq, /domus/h1/nimar/nextflow_tutorial/fastq/HG00101_1.fq, /domus/h1/nimar/nextflow_tutorial/fastq/HG00101_2.fq]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>size <code>-1</code> means any file<br>
</li>
<li>The notation <code>-&gt;</code> in groovy is used to define a closure (<code>{}</code>) which is essentially an anonymous function (see below for further information).<br>
</li>
<li><code>{ file -&gt; file.extension }</code>: This is a closure that takes each file matched by the pattern and returns its extension. The file parameter represents each file, and file.extension gets its extension. This closure is used to group the files by their extensions.</li>
<li>.view { ext, files -&gt; … }: This is another closure used to process and print each group of files. It takes two parameters:
<ul>
<li>ext: The file extension (the key by which files were grouped).<br>
</li>
<li>files: The list of files that have this extension.<br>
</li>
<li>println “Files with the extension $ext are $files”: This prints out the extension and the corresponding files.</li>
</ul></li>
</ul>
</section>
<section id="channel.fromsra" class="level4">
<h4 class="anchored" data-anchor-id="channel.fromsra"><code>channel.fromSRA</code></h4>
<p>Emitting files from SRA.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ids</span> = [<span class="st">'ERR908507'</span>, <span class="st">'ERR908506'</span>, <span class="st">'ERR908505'</span>]</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Channel</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>    <span class="ex">.fromSRA</span><span class="er">(</span><span class="ex">ids</span><span class="kw">)</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.view()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Output:</p>
<pre><code>[SRR1448794, /vol1/fastq/SRR144/004/SRR1448794/SRR1448794.fastq.gz]
[SRR1448795, /vol1/fastq/SRR144/005/SRR1448795/SRR1448795.fastq.gz] 
[SRR1448796, /vol1/fastq/SRR144/006/SRR1448796/SRR1448796.fastq.gz]</code></pre>
</section>
<section id="channel.of" class="level4">
<h4 class="anchored" data-anchor-id="channel.of"><code>channel.of</code></h4>
<p>Creating a channel from a list of values.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="ex">Channel</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">.of</span><span class="er">(</span> <span class="st">'alpha'</span><span class="ex">,</span> <span class="st">'beta'</span>, <span class="st">'delta'</span> <span class="kw">)</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">.subscribe</span> { println <span class="st">"Got: </span><span class="va">$it</span><span class="st">"</span> }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Output:</p>
<pre><code>Got: alpha
Got: beta
Got: delta</code></pre>
<p>or ranges:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="ex">Channel</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">.of</span><span class="er">(</span> <span class="ex">1..22,</span> X..Y <span class="kw">)</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.view()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Output:</p>
<pre><code>1  
2  
:  
22  
X  
Y  </code></pre>
</section>
<section id="channel.topic" class="level4">
<h4 class="anchored" data-anchor-id="channel.topic"><code>channel.topic</code></h4>
<p>It is a channel type by which you can connect multiple processes.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> proc1 {</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">val</span> x, topic: <span class="st">'my_topic'</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>  <span class="ex">script:</span></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"""</span></span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a><span class="st">  echo "</span><span class="ex">Processing</span> <span class="va">$x</span><span class="st">"</span></span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a><span class="st">  """</span></span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> proc2 {</span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a>  <span class="ex">val</span> x, topic: <span class="st">'my_topic'</span></span>
<span id="cb65-12"><a href="#cb65-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-13"><a href="#cb65-13" aria-hidden="true" tabindex="-1"></a>  <span class="ex">script:</span></span>
<span id="cb65-14"><a href="#cb65-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"""</span></span>
<span id="cb65-15"><a href="#cb65-15" aria-hidden="true" tabindex="-1"></a><span class="st">  echo "</span><span class="ex">Processing</span> <span class="va">$x</span><span class="st">"</span></span>
<span id="cb65-16"><a href="#cb65-16" aria-hidden="true" tabindex="-1"></a><span class="st">  """</span></span>
<span id="cb65-17"><a href="#cb65-17" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span>
<span id="cb65-18"><a href="#cb65-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-19"><a href="#cb65-19" aria-hidden="true" tabindex="-1"></a><span class="ex">channel</span></span>
<span id="cb65-20"><a href="#cb65-20" aria-hidden="true" tabindex="-1"></a>  <span class="ex">.topic</span><span class="er">(</span><span class="st">'my_topic'</span><span class="kw">)</span></span>
<span id="cb65-21"><a href="#cb65-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.view()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="channel.value" class="level4">
<h4 class="anchored" data-anchor-id="channel.value"><code>channel.value</code></h4>
<p>Creating a value channel by which you can bind the channel to a specific variable.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="ex">workflow_summary</span>    = WorkflowSpatialxe.paramsSummaryMultiqc<span class="er">(</span><span class="ex">workflow,</span> summary_params<span class="kw">)</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="ex">ch_workflow_summary</span> = Channel.value<span class="er">(</span><span class="ex">workflow_summary</span><span class="kw">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="channel.watchpath" class="level4">
<h4 class="anchored" data-anchor-id="channel.watchpath"><code>channel.watchPath</code></h4>
<p>Check the presence of file with certain events which should be specified (<code>create</code>, <code>modify</code>, <code>delete</code>).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="ex">Channel</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>   <span class="ex">.watchPath</span><span class="er">(</span> <span class="st">'/path/*.fa'</span><span class="ex">,</span> <span class="st">'create, modify'</span> <span class="kw">)</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>   <span class="ex">.subscribe</span> { println <span class="st">"Fasta file: </span><span class="va">$it</span><span class="st">"</span> }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><strong>The watchPath factory waits endlessly for files that match the specified pattern and event(s), which means that it will cause your pipeline to run forever. Consider using the until operator to close the channel when a certain condition is met (e.g.&nbsp;receiving a file named DONE).</strong></p>
</section>
</section>
</section>
<section id="operators" class="level2">
<h2 class="anchored" data-anchor-id="operators">Operators</h2>
<section id="mix" class="level3">
<h3 class="anchored" data-anchor-id="mix"><code>mix</code></h3>
<p>emits the emited outputs of multiple channels.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="ex">c1</span> = Channel.from<span class="er">(</span> <span class="st">'alpha'</span><span class="ex">,</span> <span class="st">'beta'</span>, <span class="st">'delta'</span> <span class="kw">)</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="ex">c2</span> = Channel.from<span class="er">(</span> <span class="st">'one'</span><span class="ex">,</span> <span class="st">'two'</span>, <span class="st">'three'</span> <span class="kw">)</span> </span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="ex">c1.mix</span><span class="er">(</span> <span class="ex">c2</span> <span class="kw">)</span><span class="fu">.view()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="workflow" class="level2">
<h2 class="anchored" data-anchor-id="workflow">Workflow</h2>
<section id="take" class="level3">
<h3 class="anchored" data-anchor-id="take"><code>take</code></h3>
<p>Take is similar to input but when it is used the beignning of the workflow begins with <code>main</code></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="ex">workflow</span> {</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">take:</span> </span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>    <span class="ex">myChannel</span></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>  <span class="ex">main:</span></span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>    <span class="ex">myProcess</span><span class="er">(</span><span class="ex">myChannel</span><span class="kw">)</span></span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
</section>
<section id="misc" class="level1">
<h1>Misc</h1>
<section id="section" class="level2">
<h2 class="anchored" data-anchor-id="section"><code>-&gt;</code></h2>
<p>The notation <code>-&gt;</code> in groovy is used to define a closure (<code>{}</code>) which is essentially an anonymous function (see below for further information).<br>
Basic usage:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="ex">{param1,</span> param2 <span class="at">-</span><span class="op">&gt;</span> </span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">//</span> code here</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li><code>{}</code> body of the closure<br>
</li>
<li><code>param1, param2</code> parameters of the closure</li>
<li><code>-&gt;</code> separates the parameters from the body of the closure. Example:</li>
</ul>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="ex">def</span> myClosure = {param1, param2 <span class="at">-</span><span class="op">&gt;</span> </span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">println</span> <span class="st">"param1: </span><span class="va">$param1</span><span class="st">"</span></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">println</span> <span class="st">"param2: </span><span class="va">$param2</span><span class="st">"</span></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a><span class="ex">myClosure</span><span class="er">(</span><span class="st">'hello'</span><span class="ex">,</span> <span class="st">'world'</span><span class="kw">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Output:</p>
<pre><code>param1: hello
param2: world</code></pre>
<p>You define a new variable in <em>groovy</em> by `String variable -&gt; println “${variable}; ${variable.size()}”.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="ex">Channel</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>    <span class="ex">.from</span><span class="er">(</span> <span class="st">'alpha'</span><span class="ex">,</span> <span class="st">'beta'</span>, <span class="st">'lambda'</span> <span class="kw">)</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>    <span class="ex">.subscribe</span> { String str <span class="at">-</span><span class="op">&gt;</span></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>        <span class="ex">println</span> <span class="st">"Got: </span><span class="va">${str}</span><span class="st">; len: </span><span class="va">${str</span><span class="er">.size()</span><span class="va">}</span><span class="st">"</span></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>    <span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="linkedhashmap" class="level2">
<h2 class="anchored" data-anchor-id="linkedhashmap"><code>LinkedHashMap</code></h2>
<p>A <code>LinkedHashMap</code> is a collection that maintains the order of its elements. When you iterate over a <code>LinkedHashMap</code>, the elements are returned in the order they were inserted.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="ex">def</span> create_fastq_channel<span class="er">(</span><span class="ex">LinkedHashMap</span> row<span class="kw">)</span> <span class="kw">{</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>    <span class="ex">//</span> create meta map</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>    <span class="ex">def</span> meta = <span class="pp">[</span><span class="ss">:</span><span class="pp">]</span></span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>    <span class="ex">meta.id</span>         = row.sample</span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>    <span class="ex">meta.single_end</span> = row.single_end.toBoolean<span class="er">(</span><span class="kw">)</span></span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a>    <span class="ex">//</span> add path<span class="er">(</span><span class="ex">s</span><span class="kw">)</span> <span class="ex">of</span> the fastq file<span class="er">(</span><span class="ex">s</span><span class="kw">)</span> <span class="ex">to</span> the meta map</span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a>    <span class="ex">def</span> fastq_meta = []</span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">(</span><span class="ex">!file</span><span class="er">(</span><span class="ex">row.fastq_1</span><span class="kw">)</span><span class="fu">.exists()</span><span class="kw">)</span> <span class="kw">{</span></span>
<span id="cb74-10"><a href="#cb74-10" aria-hidden="true" tabindex="-1"></a>        <span class="bu">exit</span> 1, <span class="st">"ERROR: Please check input samplesheet -&gt; Read 1 FastQ file does not exist!\n</span><span class="va">${row</span><span class="er">.fastq_1</span><span class="va">}</span><span class="st">"</span></span>
<span id="cb74-11"><a href="#cb74-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">}</span></span>
<span id="cb74-12"><a href="#cb74-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">(</span><span class="ex">meta.single_end</span><span class="kw">)</span> <span class="kw">{</span></span>
<span id="cb74-13"><a href="#cb74-13" aria-hidden="true" tabindex="-1"></a>        <span class="ex">fastq_meta</span> = [ meta, [ file<span class="er">(</span><span class="ex">row.fastq_1</span><span class="kw">)</span> <span class="ex">]</span> ]</span>
<span id="cb74-14"><a href="#cb74-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">}</span> <span class="cf">else</span> <span class="kw">{</span></span>
<span id="cb74-15"><a href="#cb74-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="kw">(</span><span class="ex">!file</span><span class="er">(</span><span class="ex">row.fastq_2</span><span class="kw">)</span><span class="fu">.exists()</span><span class="kw">)</span> <span class="kw">{</span></span>
<span id="cb74-16"><a href="#cb74-16" aria-hidden="true" tabindex="-1"></a>            <span class="bu">exit</span> 1, <span class="st">"ERROR: Please check input samplesheet -&gt; Read 2 FastQ file does not exist!\n</span><span class="va">${row</span><span class="er">.fastq_2</span><span class="va">}</span><span class="st">"</span></span>
<span id="cb74-17"><a href="#cb74-17" aria-hidden="true" tabindex="-1"></a>        <span class="kw">}</span></span>
<span id="cb74-18"><a href="#cb74-18" aria-hidden="true" tabindex="-1"></a>        <span class="ex">fastq_meta</span> = [ meta, [ file<span class="er">(</span><span class="ex">row.fastq_1</span><span class="kw">)</span><span class="ex">,</span> file<span class="er">(</span><span class="ex">row.fastq_2</span><span class="kw">)</span> <span class="ex">]</span> ]</span>
<span id="cb74-19"><a href="#cb74-19" aria-hidden="true" tabindex="-1"></a>    <span class="kw">}</span></span>
<span id="cb74-20"><a href="#cb74-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="ex">fastq_meta</span></span>
<span id="cb74-21"><a href="#cb74-21" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="how-to-understand-a-nextflow-pipeline" class="level1">
<h1>How to understand a nextflow pipeline?</h1>
<p>In general nextflow pipeline is orchestrated by <strong>main.nf</strong> file. This file is the entry point of the pipeline.<br>
and then <strong>nextflow.config</strong> file. This file contains the configuration of the pipeline.<br>
Suggested order of the file to look:<br>
1. main.nf: Understand the primary workflow structure.<br>
2. nextflow.config: Learn about configurations and profiles.<br>
3. modules: Explore the individual modules for different tasks.<br>
4. subworkflows: Check for any reusable sub-workflows used in the main workflow.</p>
<section id="main.nf" class="level2">
<h2 class="anchored" data-anchor-id="main.nf">main.nf</h2>
</section>
<section id="initialization-and-parameter-definition" class="level2">
<h2 class="anchored" data-anchor-id="initialization-and-parameter-definition">Initialization and Parameter Definition:</h2>
<ul>
<li>Defines parameters and initial channels.<br>
</li>
<li>Specifies input files, directories, and any necessary configurations.</li>
</ul>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="ex">params.input</span> = <span class="st">'data/*'</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="ex">params.outdir</span> = <span class="st">'results'</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a><span class="ex">workflow.onComplete</span> {</span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>    <span class="ex">println</span> <span class="st">"Workflow completed"</span></span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li><code>params.input</code>: Specifies the input data files.<br>
</li>
<li><code>params.outdir</code>: Defines the output directory.<br>
</li>
<li><code>workflow.onComplete</code>: A block to execute when the workflow finishes.</li>
</ul>
</section>
<section id="processes-and-workflow-execution" class="level2">
<h2 class="anchored" data-anchor-id="processes-and-workflow-execution">Processes and Workflow Execution:</h2>
<ul>
<li>Contains process definitions that encapsulate individual computational steps.<br>
</li>
<li>Defines the workflow that connects these processes.</li>
</ul>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="ex">process</span> process_data {</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>    <span class="ex">input:</span></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>    <span class="ex">path</span> input_file from Channel.fromPath<span class="er">(</span><span class="ex">params.input</span><span class="kw">)</span></span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>    <span class="ex">output:</span></span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>    <span class="ex">path</span> <span class="st">"</span><span class="va">${input_file</span><span class="er">.baseName</span><span class="va">}</span><span class="st">.processed"</span></span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a>    <span class="ex">script:</span></span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"""</span></span>
<span id="cb76-10"><a href="#cb76-10" aria-hidden="true" tabindex="-1"></a><span class="st">    process_tool -i </span><span class="va">$input_file</span><span class="st"> -o </span><span class="va">${input_file</span><span class="er">.baseName</span><span class="va">}</span><span class="st">.processed</span></span>
<span id="cb76-11"><a href="#cb76-11" aria-hidden="true" tabindex="-1"></a><span class="st">    """</span></span>
<span id="cb76-12"><a href="#cb76-12" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li><code>process_data</code>: A process definition that takes an input file, processes it, and outputs the result.<br>
</li>
<li><code>input_file</code>: Specify the input channel.<br>
</li>
<li><code>output</code>: Defines the output path.<br>
</li>
<li><code>script</code>: The shell command or script to run.<br>
</li>
<li><h2 id="output-and-reporting" class="anchored">Output and Reporting:</h2></li>
<li>Handles the output of results and logging.<br>
</li>
<li>May include final steps for summarizing results and generating reports.</li>
</ul>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="ex">workflow</span> {</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>    <span class="ex">files</span> = Channel.fromPath<span class="er">(</span><span class="ex">params.input</span><span class="kw">)</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>    <span class="ex">processed_files</span> = files <span class="kw">|</span> <span class="ex">process_data</span></span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a>    <span class="ex">processed_files.view</span> {</span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a>        <span class="ex">println</span> <span class="st">"Processed file: </span><span class="va">$it</span><span class="st">"</span></span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a>    <span class="er">}</span></span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li><code>workflow</code>: Defines the workflow structure.<br>
</li>
<li><code>files</code>: A channel created from the input files.<br>
</li>
<li><code>processed_files</code>: The result of processing the files through <code>process_data</code>.<br>
</li>
<li><code>processed_files.view</code>: Outputs the processed files for logging.</li>
</ul>
</section>
<section id="groovy-class" class="level2">
<h2 class="anchored" data-anchor-id="groovy-class">groovy class</h2>
<p>main.nf may refer to some functions which can be defined in a groovy class.<br>
In Groovy, a class is a blueprint for creating objects, encapsulating data for the object, and methods to manipulate that data. Groovy classes are similar to Java classes but with some syntactic sugar that makes them easier to work with.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="ex">class</span> Person {</span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>    <span class="ex">String</span> name</span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>    <span class="ex">int</span> age</span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>    <span class="ex">void</span> sayHello<span class="er">(</span><span class="kw">)</span> <span class="kw">{</span></span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>        <span class="ex">println</span> <span class="st">"Hello, my name is </span><span class="va">$name</span><span class="st"> and I am </span><span class="va">$age</span><span class="st"> years old."</span></span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">}</span></span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span>
<span id="cb78-9"><a href="#cb78-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-10"><a href="#cb78-10" aria-hidden="true" tabindex="-1"></a><span class="ex">//</span> Creating an instance of the class</span>
<span id="cb78-11"><a href="#cb78-11" aria-hidden="true" tabindex="-1"></a><span class="ex">def</span> person = new Person<span class="er">(</span><span class="ex">name:</span> <span class="st">'John'</span>, age: 30<span class="kw">)</span></span>
<span id="cb78-12"><a href="#cb78-12" aria-hidden="true" tabindex="-1"></a><span class="fu">person.sayHello()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Key Points - Properties: <code>String name</code> and <code>int age</code> are properties of the <code>Person</code> class.<br>
- Methods: <code>sayHello</code> is a method that prints a greeting message.<br>
- Instance Creation: <code>new Person(name: 'John', age: 30)</code> creates an instance of the <code>Person</code> class with specified properties.<br>
- Method Call: <code>person.sayHello()</code> calls the <code>sayHello</code> method on the person object.</p>
<section id="public" class="level3">
<h3 class="anchored" data-anchor-id="public"><code>public</code></h3>
<p>Access Modifier: Specifies that the member (field, method, or class) is accessible from any other class.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="ex">public</span> class Person {</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>    <span class="ex">public</span> String name</span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>    <span class="ex">public</span> int age</span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>    <span class="ex">public</span> void sayHello<span class="er">(</span><span class="kw">)</span> <span class="kw">{</span></span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a>        <span class="ex">println</span> <span class="st">"Hello, my name is </span><span class="va">$name</span><span class="st"> and I am </span><span class="va">$age</span><span class="st"> years old."</span></span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">}</span></span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="void" class="level3">
<h3 class="anchored" data-anchor-id="void"><code>void</code></h3>
<p>Return Type: Indicates that the method does not return any value.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="ex">void</span> sayHello<span class="er">(</span><span class="kw">)</span> <span class="kw">{</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>    <span class="ex">println</span> <span class="st">"Hello"</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="static" class="level3">
<h3 class="anchored" data-anchor-id="static"><code>static</code></h3>
<p>Modifier: Means that the member belongs to the class, rather than instances of the class. Static members can be accessed without creating an instance of the class.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="ex">static</span> String greet<span class="er">(</span><span class="kw">)</span> <span class="kw">{</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">"Hello"</span></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>